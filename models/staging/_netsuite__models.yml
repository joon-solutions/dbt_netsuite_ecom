version: 2

models:
  - name: stg_netsuite__account_types
    description: "Stage table containing data related to account types from Netsuite"
    config:
      contract:
        enforced: true      
    columns:
      - name: account_type_id
        description: "The unique identifier for the account type."
        data_type: varchar    
        tests:
          - unique
          - not_null
      - name: internal_id
        description: "The internal identifier for the account type."
        data_type: number(38,0)       
      - name: default_cash_flow_rate_type
        description: "The default cash flow rate type for the account."
        data_type: varchar
      - name: default_general_rate_type
        description: "The default general rate type for the account."
        data_type: varchar
      - name: eliminational_go
        description: "The elimination algorithm used for the account."
        data_type: varchar
      - name: long_name
        description: "The long name of the account type."
        data_type: varchar
      - name: seqnum
        description: "The sequence number(38,0) of the account type."
        data_type: number(38,0)
      - name: is_account_left_side
        description: "Specifies whether the account is on the left side of the balance sheet."
        data_type: boolean
      - name: is_include_inreval_default
        description: "Specifies whether the account is included in the default revaluation."
        data_type: boolean
      - name: is_in_balance_sheet
        description: "Specifies whether the account is a balance sheet account."
        data_type: boolean
      - name: has_user_can_change_reval_option
        description: "Specifies whether the user can change the revaluation option for the account."
        data_type: boolean

  - name: stg_netsuite__accounting_periods
    description: "Stage table containing data related to accounting periods from Netsuite."
    config:
      contract:
        enforced: true      
    columns:
      - name: accounting_period_id
        description: "The unique identifier for the accounting period."
        data_type: number(38,0)    
        tests:
          - unique
          - not_null        
      - name: parent_id
        description: "The identifier of the parent accounting period."
        data_type: number(38,0)
      - name: started_at
        description: "The start date of the accounting period."
        data_type: timestamp_tz
      - name: ended_at
        description: "The end date of the accounting period."
        data_type: timestamp_tz
      - name: closed_at
        description: "The date when the accounting period was closed."
        data_type: timestamp_tz
      - name: last_modified_at
        description: "The date when the accounting period was last modified."
        data_type: timestamp_tz
      - name: period_name
        description: "The name of the accounting period."
        data_type: varchar
      - name: is_allow_non_gl_changes
        description: "Specifies whether non-GL changes are allowed for the accounting period."
        data_type: boolean
      - name: is_alllocked
        description: "Specifies whether all transactions are locked for the accounting period."
        data_type: boolean
      - name: is_aplocked
        description: "Specifies whether accounts payable transactions are locked for the accounting period."
        data_type: boolean
      - name: is_arlocked
        description: "Specifies whether accounts receivable transactions are locked for the accounting period."
        data_type: boolean
      - name: is_closed
        description: "Specifies whether the accounting period is closed."
        data_type: boolean
      - name: is_adjust
        description: "Specifies whether adjustments are allowed for the accounting period."
        data_type: boolean
      - name: is_inactive
        description: "Specifies whether the accounting period is inactive."
        data_type: boolean
      - name: is_posting
        description: "Specifies whether posting is allowed for the accounting period."
        data_type: boolean
      - name: is_quarter
        description: "Specifies whether the accounting period is a quarter."
        data_type: boolean
      - name: is_year
        description: "Specifies whether the accounting period is a year."
        data_type: boolean

  - name: stg_netsuite__accounts
    description: "Stage table containing data related to accounts from Netsuite."
    config:
      contract:
        enforced: true       
    columns:
      - name: account_id
        description: "The unique identifier for the account."
        data_type: number(38,0)
        tests:
          - unique
          - not_null        
      - name: currency_id
        description: "The unique identifier for the currency associated with the account."
        data_type: number(38,0)
      - name: department_id
        description: "The unique identifier for the department associated with the account."
        data_type: number(38,0)
      - name: external_id
        description: "The external identifier for the account."
        data_type: number(38,0)
      - name: parent_id
        description: "The identifier of the parent account."
        data_type: number(38,0)
      - name: subsidiary_id
        description: "The unique identifier for the subsidiary associated with the account."
        data_type: number(38,0)
      - name: last_modified_at
        description: "The date when the account was last modified."
        data_type: timestamp_tz
      - name: account_number
        description: "The account number."
        data_type: varchar
      - name: account_type
        description: "The type of the account."
        data_type: varchar
      - name: sspec_acct
        description: "The specific account associated with the account."
        data_type: varchar
      - name: display_name_with_hierarchy
        description: "The display name of the account with its hierarchy."
        data_type: varchar
      - name: account_full_name
        description: "The full name of the account."
        data_type: varchar
      - name: account_name
        description: "The name of the account."
        data_type: varchar
      - name: is_inactive
        description: "Specifies whether the account is inactive."
        data_type: boolean
      - name: is_summary
        description: "Specifies whether the account is a summary account."
        data_type: boolean
      - name: is_eliminate
        description: "Specifies whether the account is an elimination account."
        data_type: boolean
      - name: is_revalue
        description: "Specifies whether the account is a revaluation account."
        data_type: boolean
      - name: is_include_children
        description: "Specifies whether children accounts are included with this account."
        data_type: boolean
      - name: is_inventory
        description: "Specifies whether the account is an inventory account."
        data_type: boolean
      - name: is_reconcile_with_matching
        description: "Specifies whether reconciliation is done with matching."
        data_type: boolean
      - name: cashflow_rate
        description: "The cash flow rate associated with the account."
        data_type: varchar
      - name: description
        description: "The description of the account."
        data_type: varchar
      - name: generalrate
        description: "The general rate associated with the account."
        data_type: varchar          

  - name: stg_netsuite__budget
    description: "Stage table containing data related to budgets from Netsuite."
    config:
      contract:
        enforced: true         
    columns:
      - name: budget_id
        description: "The unique identifier for the budget."
        data_type: numeric(38,0)
        tests:
          - unique
          - not_null        
      - name: customer_id
        description: "The unique identifier for the customer associated with the budget."
        data_type: numeric(38,0)
      - name: department_id
        description: "The unique identifier for the department associated with the budget."
        data_type: numeric(38,0)
      - name: subsidiary_id
        description: "The unique identifier for the subsidiary associated with the budget."
        data_type: numeric(38,0)
      - name: currency_id
        description: "The unique identifier for the currency associated with the budget."
        data_type: numeric(38,0)
      - name: class_id
        description: "The unique identifier for the class associated with the budget."
        data_type: numeric(38,0)
      - name: account_id
        description: "The unique identifier for the account associated with the budget."
        data_type: numeric(38,0)
      - name: accountingbook_id
        description: "The unique identifier for the accounting book associated with the budget."
        data_type: numeric(38,0)
      - name: item_id
        description: "The unique identifier for the item associated with the budget."
        data_type: numeric(38,0)
      - name: category_id
        description: "The unique identifier for the category associated with the budget."
        data_type: numeric(38,0)
      - name: location_id
        description: "The unique identifier for the location associated with the budget."
        data_type: numeric(38,0)
      - name: year_id
        description: "The unique identifier for the year associated with the budget."
        data_type: numeric(38,0)
      - name: amount
        description: "The budget amount"
        data_type: float

  - name: stg_netsuite__budgets_machines
    description: "Stage table containing machine-generated budgets data"
    config:
      contract:
        enforced: true            
    tests:
      - dbt_utils.unique_combination_of_columns:
          combination_of_columns:
            - budget_id
            - accounting_period_id
    columns:
      - name: budget_id
        description: "The unique identifier for the budget."
        data_type: numeric(38,0)
      - name: accounting_period_id
        description: "The unique identifier for the accounting period associated with the budget."
        data_type: numeric(38,0)
      - name: amount
        description: "The budget amount."
        data_type: float

  - name: stg_netsuite__classifications
    description: "Stage table containing classifications data in Netsuite."
    config:
      contract:
        enforced: true           
    columns:
      - name: class_id
        description: "The unique identifier for the class."
        data_type: numeric(38,0)
        tests:
          - unique
          - not_null        
      - name: external_id
        description: "The external identifier for the class."
        data_type: varchar
      - name: parent_id
        description: "The identifier of the parent class."
        data_type: numeric(38,0)
      - name: subsidiary_ids
        description: "The unique identifier for the subsidiaries associated with the class."
        data_type: varchar
      - name: class_name
        description: "The name of the class."
        data_type: varchar
      - name: last_modified_at
        description: "The timestamp when the class was last modified."
        data_type: timestamp_tz
      - name: nspb_segment_code
        description: "The NSPB segment code associated with the class."
        data_type: varchar
      - name: class_full_name
        description: "The full name of the class."
        data_type: varchar
      - name: has_children
        description: "Specifies whether the class has children."
        data_type: boolean
      - name: is_inactive
        description: "Specifies whether the class is inactive."
        data_type: boolean